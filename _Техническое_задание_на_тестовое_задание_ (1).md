**Техническое задание на тестовое задание**

### Цель
Разработать асинхронное приложение на Python, которое обрабатывает сообщения из CSV-файла и отправляет их через Telegram с использованием Pyrogram.

### Время на выполнение: 1-2 часа

### Требования к выполнению
1. **Язык программирования**: Python (рекомендуемая версия 3.10+).
2. **Фреймворк для работы с Telegram API**: Pyrogram.
3. **Асинхронность**: код должен использовать `asyncio` и быть структурирован на основе `async`/`await`.
4. **Логирование**: необходимо вести логи работы скрипта.
5. **Работа с конфигурацией**: параметры (API-ключи, ID сессий) должны загружаться из `.env`.
6. **Обработка ошибок**: корректно обрабатывать возможные исключения (ошибки сети, ошибки Pyrogram, другие исключения).
7. **Работа с сессиями Pyrogram**: 
   - Скрипт должен поддерживать несколько Telegram-сессий.
   - Сессии должны загружаться из указанной директории.
   - Каждая сессия привязана к определённому номеру телефона.
8. **Чтение данных из CSV-файла**:
   - CSV-файл будет предоставлен.
   - Формат файла:
     ```sql
     id,int(11) Auto Increment
     phone_sender,varchar(15)
     phone_recipient,varchar(15)
     message_text,text
     location,varchar(100)
     date_entered,datetime NULL [current_timestamp()]
     status,tinyint(4) NULL [0]
     error_text,text NULL
     date_sent,datetime NULL
     ```
   - Код должен читать данные из файла и работать с ними как с базой данных.
   - `phone_sender` может быть использован как личный номер отправителя.
9. **Отправка сообщений в Telegram**:
   - Если получатель недоступен, сначала добавить его в контакты.
   - В случае закрытой политики чатов логировать ошибку.
   - В случае успеха обновлять CSV-файл, проставляя `status = 1` и `date_sent`.
   - В случае ошибки записывать `error_text` и `status = 2`.
10. **Циклическая проверка сообщений**:
   - Код должен проверять новые сообщения в CSV-файле.
   - Проверка выполняется в цикле с паузой (например, `INTERVAL_SEC`).
   - Если сообщений нет, делается пауза, затем проверка повторяется.
11. **Документирование кода**: использовать docstrings и комментарии.

### Ожидаемый результат
- Исполняемый Python-скрипт, который:
  - Запускает несколько Telegram-сессий.
  - Проверяет сообщения из CSV-файла.
  - Отправляет их через Telegram.
  - Обрабатывает возможные ошибки (например, если пользователь недоступен).
  - Обновляет CSV-файл после отправки сообщений.
  - Ведёт логирование работы.

### Формат сдачи
1. Репозиторий на GitHub/GitLab с кодом.
2. Инструкция по запуску (README.md), включая:
   - Указания по установке зависимостей (`requirements.txt` или `pyproject.toml`).
   - Пример `.env` файла.
   - Команду для запуска скрипта.
3. Файл логов или пример логов работы скрипта (если возможно).
4. Обновленный CSV-файл после тестового выполнения (где видно, что сообщения были обработаны и отправлены).

### Дополнительно
Кандидат **должен работать с CSV-файлом, а не с реальной базой данных**. Главное — показать понимание работы с API, асинхронного программирования и обработку ошибок.



